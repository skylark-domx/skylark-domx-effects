{"version":3,"sources":["effects.js"],"names":["define","skylark","langx","fx","$","_normalizeArguments","effect","options","speed","callback","isPlainObject","isFunction","speeds","mixin","duration","off","_default","complete","standardAnimationOption","option","plugins","parseClip","str","element","outerWidth","outerHeight","clipRegex","values","exec","top","parseFloat","right","bottom","left","dataSpace","dataSpaceStyle","dataSpaceAnimated","effects","name","mode","scaledDimensions","percent","direction","height","width","x","y","clipToBox","animation","clip","unshift","queueLength","count","queue","splice","apply","concat","dequeue","saveStyle","data","style","cssText","restoreStyle","removeData","hidden","is","getBaseline","origin","original","createPlaceholder","placeholder","cssPosition","css","position","marginTop","marginBottom","marginLeft","marginRight","test","nodeName","insertAfter","display","visibility","float","addClass","removePlaceholder","dataKey","remove","cleanUp","setTransition","list","factor","value","each","i","unit","cssUnit","fn","run","next","cleanup","elem","args","hide","done","call","this","modes","shift","uiBackCompat","defaultMode","effectMethod","arguments","prefilter","el","normalizedMode","push","show","orig","toggle","key","val","indexOf","cssClip","clipObj","transfer","target","to","targetFixed","body","fixTop","scrollTop","fixLeft","scrollLeft","endPosition","offset","innerHeight","innerWidth","startPosition","appendTo","className","animate","easing","step","clipInit","start","end","pos","baseEasings","p","Math","pow","Sine","cos","PI","Circ","sqrt","Elastic","sin","Back","Bounce","pow2","bounce","easeIn"],"mappings":";;;;;;;AAAAA,QACC,wBACA,sBACA,mBACA,uBACC,SAASC,EAAQC,EAAMC,EAAGC,GAoN3B,QAASC,GAAqBC,EAAQC,EAASC,EAAOC,GAiDrD,MA9CKP,GAAMQ,cAAeJ,KACzBC,EAAUD,EACVA,EAASA,EAAOA,QAIjBA,GAAWA,OAAQA,GAGH,MAAXC,IACJA,MAIIL,EAAMS,WAAYJ,KACtBE,EAAWF,EACXC,EAAQ,KACRD,OAIuB,gBAAZA,IAAwBJ,EAAGS,OAAQL,MAC9CE,EAAWD,EACXA,EAAQD,EACRA,MAIIL,EAAMS,WAAYH,KACtBC,EAAWD,EACXA,EAAQ,MAIJD,GACJL,EAAMW,MAAOP,EAAQC,GAGtBC,EAAQA,GAASD,EAAQO,SACzBR,EAAOQ,SAAWX,EAAGY,IAAM,EACT,gBAAVP,GAAqBA,EAC5BA,IAASJ,GAAED,GAAGS,OAAST,EAAGS,OAAQJ,GAClCL,EAAGS,OAAOI,SAEXV,EAAOW,SAAWR,GAAYF,EAAQU,SAE/BX,EAGR,QAASY,GAAyBC,GAGjC,QAAMA,GAA4B,gBAAXA,KAAuBhB,EAAGS,OAAQO,MAKlC,gBAAXA,KAAwBC,EAASD,OAKxCjB,EAAMS,WAAYQ,IAKA,gBAAXA,KAAwBA,EAAOb,SAmN5C,QAASe,GAAWC,EAAKC,GACvB,GAAIC,GAAaD,EAAQC,aACxBC,EAAcF,EAAQE,cACtBC,EAAY,wIACZC,EAASD,EAAUE,KAAMN,KAAW,GAAI,EAAGE,EAAYC,EAAa,EAErE,QACCI,IAAKC,WAAYH,EAAQ,KAAS,EAClCI,MAAuB,SAAhBJ,EAAQ,GAAiBH,EAAaM,WAAYH,EAAQ,IACjEK,OAAwB,SAAhBL,EAAQ,GAAiBF,EAAcK,WAAYH,EAAQ,IACnEM,KAAMH,WAAYH,EAAQ,KAAS,GArftC,GAAIO,GAAY,cACfC,EAAiB,mBACjBC,EAAoB,sBACpBhB,KAGGiB,EAAUpC,EAAQoC,QAAU,YAMhCnC,GAAMW,MAAMwB,GACXrC,OAAQ,SAAUsC,EAAMC,EAAMjC,GAS7B,MARMA,KACLA,EAASiC,EACTA,EAAO,UAGRnB,EAASkB,GAAShC,EAClBc,EAASkB,GAAOC,KAAOA,EAEhBjC,GAGRkC,iBAAkB,SAAUjB,EAASkB,EAASC,GAC7C,GAAiB,IAAZD,EACJ,OACCE,OAAQ,EACRC,MAAO,EACPnB,YAAa,EACbD,WAAY,EAId,IAAIqB,GAAkB,eAAdH,GAAiCD,GAAW,KAAQ,IAAQ,EACnEK,EAAkB,aAAdJ,GAA+BD,GAAW,KAAQ,IAAQ,CAE/D,QACCE,OAAQpB,EAAQoB,SAAWG,EAC3BF,MAAOrB,EAAQqB,QAAUC,EACzBpB,YAAaF,EAAQE,cAAgBqB,EACrCtB,WAAYD,EAAQC,aAAeqB,IAKrCE,UAAW,SAAUC,GACpB,OACCJ,MAAOI,EAAUC,KAAKlB,MAAQiB,EAAUC,KAAKhB,KAC7CU,OAAQK,EAAUC,KAAKjB,OAASgB,EAAUC,KAAKpB,IAC/CI,KAAMe,EAAUC,KAAKhB,KACrBJ,IAAKmB,EAAUC,KAAKpB,MAKtBqB,QAAS,SAAU3B,EAAS4B,EAAaC,GACxC,GAAIC,GAAQ9B,EAAQ8B,OAEfF,GAAc,GAClBE,EAAMC,OAAOC,MAAOF,GACjB,EAAG,GAAIG,OAAQH,EAAMC,OAAQH,EAAaC,KAE9C7B,EAAQkC,WAGTC,UAAW,SAAUnC,GACpBA,EAAQoC,KAAMxB,EAAgBZ,EAAS,GAAIqC,MAAMC,UAGlDC,aAAc,SAAUvC,GACvBA,EAAS,GAAIqC,MAAMC,QAAUtC,EAAQoC,KAAMxB,IAAoB,GAC/DZ,EAAQwC,WAAY5B,IAGrBI,KAAM,SAAUhB,EAASgB,GACxB,GAAIyB,GAASzC,EAAQ0C,GAAI,UAQzB,OANc,WAAT1B,IACJA,EAAOyB,EAAS,OAAS,SAErBA,EAAkB,SAATzB,EAA2B,SAATA,KAC/BA,EAAO,QAEDA,GAIR2B,YAAa,SAAUC,EAAQC,GAC9B,GAAItB,GAAGD,CAEP,QAASsB,EAAQ,IACjB,IAAK,MACJrB,EAAI,CACJ,MACD,KAAK,SACJA,EAAI,EACJ,MACD,KAAK,SACJA,EAAI,CACJ,MACD,SACCA,EAAIqB,EAAQ,GAAMC,EAASzB,OAG5B,OAASwB,EAAQ,IACjB,IAAK,OACJtB,EAAI,CACJ,MACD,KAAK,SACJA,EAAI,EACJ,MACD,KAAK,QACJA,EAAI,CACJ,MACD,SACCA,EAAIsB,EAAQ,GAAMC,EAASxB,MAG5B,OACCC,EAAGA,EACHC,EAAGA,IAKLuB,kBAAmB,SAAU9C,GAC5B,GAAI+C,GACHC,EAAchD,EAAQiD,IAAK,YAC3BC,EAAWlD,EAAQkD,UA+CpB,OAzCAlD,GAAQiD,KACPE,UAAWnD,EAAQiD,IAAK,aACxBG,aAAcpD,EAAQiD,IAAK,gBAC3BI,WAAYrD,EAAQiD,IAAK,cACzBK,YAAatD,EAAQiD,IAAK,iBAE1BhD,WAAYD,EAAQC,cACpBC,YAAaF,EAAQE,eAEjB,qBAAqBqD,KAAMP,KAC/BA,EAAc,WAEdD,EAAclE,EAAG,IAAMmB,EAAS,GAAIwD,SAAW,KAAMC,YAAazD,GAAUiD,KAI3ES,QAAS,iBAAiBH,KAAMvD,EAAQiD,IAAK,YAC5C,eACA,QACDU,WAAY,SAGZR,UAAWnD,EAAQiD,IAAK,aACxBG,aAAcpD,EAAQiD,IAAK,gBAC3BI,WAAYrD,EAAQiD,IAAK,cACzBK,YAAatD,EAAQiD,IAAK,eAC1BW,QAAS5D,EAAQiD,IAAK,WAEtBhD,WAAYD,EAAQC,cACpBC,YAAaF,EAAQE,eACrB2D,SAAU,0BAEX7D,EAAQoC,KAAMzB,EAAY,cAAeoC,IAG1C/C,EAAQiD,KACPC,SAAUF,EACVtC,KAAMwC,EAASxC,KACfJ,IAAK4C,EAAS5C,MAGRyC,GAGRe,kBAAmB,SAAU9D,GAC5B,GAAI+D,GAAUpD,EAAY,cACxBoC,EAAc/C,EAAQoC,KAAM2B,EAEzBhB,KACJA,EAAYiB,SACZhE,EAAQwC,WAAYuB,KAMtBE,QAAS,SAAUjE,GAClBc,EAAQyB,aAAcvC,GACtBc,EAAQgD,kBAAmB9D,IAG5BkE,cAAe,SAAUlE,EAASmE,EAAMC,EAAQC,GAQ/C,MAPAA,GAAQA,MACR1F,EAAM2F,KAAMH,EAAM,SAAUI,EAAGjD,GAC9B,GAAIkD,GAAOxE,EAAQyE,QAASnD,EACvBkD,GAAM,GAAM,IAChBH,EAAO/C,GAAMkD,EAAM,GAAMJ,EAASI,EAAM,MAGnCH,KAmFT1F,EAAMW,MAAMT,EAAE6F,IACb3F,OAAQ,WAkDP,QAAS4F,GAAKC,GAGb,QAASC,KACRC,EAAKtC,WAAY3B,GAEjBC,EAAQmD,QAASa,GAEE,SAAdC,EAAK/D,MACT8D,EAAKE,OAGNC,IAGD,QAASA,KACHtG,EAAMS,WAAYM,IACtBA,EAASwF,KAAMJ,EAAM,IAGjBnG,EAAMS,WAAYwF,IACtBA,IApBF,GAAIE,GAAOjG,EAAGsG,KA0BdJ,GAAK/D,KAAOoE,EAAMC,QAEbxG,EAAEyG,gBAAiB,GAAUC,EAUd,SAAdR,EAAK/D,MAGT8D,EAAM9D,KACNiE,KAEAO,EAAaN,KAAMJ,EAAM,GAAKC,EAAMF,IAfhCC,EAAKpC,GAAI,WAAuB,SAAT1B,EAA2B,SAATA,IAG7C8D,EAAM9D,KACNiE,KAEAO,EAAaN,KAAMJ,EAAM,GAAKC,EAAME,GArFvC,GAAIF,GAAOjG,EAAoBkD,MAAOmD,KAAMM,WAC3CD,EAAe3F,EAASkF,EAAKhG,QAC7BwG,EAAcC,EAAaxE,KAG3BtB,GAFQqF,EAAKjD,MAEFiD,EAAKrF,UAChBsB,EAAO+D,EAAK/D,KACZoE,KACAM,EAAY,SAAUd,GACrB,GAAIe,GAAK9G,EAAGsG,MACXS,EAAiB9E,EAAQE,KAAM2E,EAAI3E,IAAUuE,CAG9CI,GAAGvD,KAAMvB,GAAmB,GAK5BuE,EAAMS,KAAMD,GAGPL,IAAoC,SAAnBK,GAClBA,IAAmBL,GAAkC,SAAnBK,IACrCD,EAAGG,OAGEP,GAAkC,SAAnBK,GACpB9E,EAAQqB,UAAWwD,GAGfhH,EAAMS,WAAYwF,IACtBA,IAIH,OAAKhG,GAAGY,MAAQgG,EAGVxE,EACGmE,KAAMnE,GAAQ+D,EAAKxF,SAAUG,GAE7ByF,KAAKb,KAAM,WACZ5E,GACJA,EAASwF,KAAMC,QA+DZA,KAAKb,KAAMoB,GAAYpB,KAAMK,IAGrCmB,KAAM,SAAYC,GACjB,MAAO,UAAUnG,GAChB,GAAKD,EAAyBC,GAC7B,MAAOmG,GAAK/D,MAAOmD,KAAMM,UAEzB,IAAIV,GAAOjG,EAAoBkD,MAAOmD,KAAMM,UAE5C,OADAV,GAAK/D,KAAO,OACLmE,KAAKpG,OAAOmG,KAAMC,KAAMJ,KAG7BlG,EAAE6F,GAAGoB,MAEVd,KAAM,SAAYe,GACjB,MAAO,UAAUnG,GAChB,GAAKD,EAAyBC,GAC7B,MAAOmG,GAAK/D,MAAOmD,KAAMM,UAEzB,IAAIV,GAAOjG,EAAoBkD,MAAOmD,KAAMM,UAE5C,OADAV,GAAK/D,KAAO,OACLmE,KAAKpG,OAAOmG,KAAMC,KAAMJ,KAG7BlG,EAAE6F,GAAGM,MAEVgB,OAAQ,SAAYD,GACnB,MAAO,UAAUnG,GAChB,GAAKD,EAAyBC,IAA8B,iBAAXA,GAChD,MAAOmG,GAAK/D,MAAOmD,KAAMM,UAEzB,IAAIV,GAAOjG,EAAoBkD,MAAOmD,KAAMM,UAE5C,OADAV,GAAK/D,KAAO,SACLmE,KAAKpG,OAAOmG,KAAMC,KAAMJ,KAG7BlG,EAAE6F,GAAGsB,QAEVvB,QAAS,SAAUwB,GAClB,GAAI5D,GAAQ8C,KAAKlC,IAAKgD,GACrBC,IASD,OAPAvH,GAAM2F,MAAQ,KAAM,KAAM,IAAK,MAAQ,SAAUC,EAAGC,GAC9CnC,EAAM8D,QAAS3B,GAAS,IAC5B0B,GAAQ3F,WAAY8B,GAASmC,MAKxB0B,GAGRE,QAAS,SAAUC,GAClB,MAAKA,GACGlB,KAAKlC,IAAK,OAAQ,QAAUoD,EAAQ/F,IAAM,MAAQ+F,EAAQ7F,MAAQ,MACxE6F,EAAQ5F,OAAS,MAAQ4F,EAAQ3F,KAAO,OAEnCZ,EAAWqF,KAAKlC,IAAK,QAAUkC,OAGvCmB,SAAU,SAAUtH,EAASiG,GAC5B,GAAIjF,GAAUnB,EAAGsG,MAChBoB,EAAS1H,EAAGG,EAAQwH,IACpBC,EAA2C,UAA7BF,EAAOtD,IAAK,YAC1ByD,EAAO7H,EAAG,QACV8H,EAASF,EAAcC,EAAKE,YAAc,EAC1CC,EAAUJ,EAAcC,EAAKI,aAAe,EAC5CC,EAAcR,EAAOS,SACrBvF,GACCnB,IAAKyG,EAAYzG,IAAMqG,EACvBjG,KAAMqG,EAAYrG,KAAOmG,EACzBzF,OAAQmF,EAAOU,cACf5F,MAAOkF,EAAOW,cAEfC,EAAgBnH,EAAQgH,SACxBV,EAAWzH,EAAG,2CACZuI,SAAU,QACVvD,SAAU7E,EAAQqI,WAClBpE,KACA3C,IAAK6G,EAAc7G,IAAMqG,EACzBjG,KAAMyG,EAAczG,KAAOmG,EAC3BzF,OAAQpB,EAAQiH,cAChB5F,MAAOrB,EAAQkH,aACfhE,SAAUuD,EAAc,QAAU,aAElCa,QAAS7F,EAAWzC,EAAQO,SAAUP,EAAQuI,OAAQ,WACtDjB,EAAStC,SACJrF,EAAMS,WAAY6F,IACtBA,SAoBNrG,EAAG4I,KAAO5I,EAAG4I,SAEb5I,EAAG4I,KAAK9F,KAAO,SAAU9C,GAClBA,EAAG6I,WACR7I,EAAG8I,MAAQ7I,EAAGD,EAAGkG,MAAOsB,UACD,gBAAXxH,GAAG+I,MACd/I,EAAG+I,IAAM7H,EAAWlB,EAAG+I,IAAK/I,EAAGkG,OAEhClG,EAAG6I,UAAW,GAGf5I,EAAGD,EAAGkG,MAAOsB,SACZ9F,IAAK1B,EAAGgJ,KAAQhJ,EAAG+I,IAAIrH,IAAM1B,EAAG8I,MAAMpH,KAAQ1B,EAAG8I,MAAMpH,IACvDE,MAAO5B,EAAGgJ,KAAQhJ,EAAG+I,IAAInH,MAAQ5B,EAAG8I,MAAMlH,OAAU5B,EAAG8I,MAAMlH,MAC7DC,OAAQ7B,EAAGgJ,KAAQhJ,EAAG+I,IAAIlH,OAAS7B,EAAG8I,MAAMjH,QAAW7B,EAAG8I,MAAMjH,OAChEC,KAAM9B,EAAGgJ,KAAQhJ,EAAG+I,IAAIjH,KAAO9B,EAAG8I,MAAMhH,MAAS9B,EAAG8I,MAAMhH,OAW5D,IAAImH,KA8CJ,OA5CAlJ,GAAM2F,MAAQ,OAAQ,QAAS,QAAS,QAAS,QAAU,SAAUC,EAAGxD,GACvE8G,EAAa9G,GAAS,SAAU+G,GAC/B,MAAOC,MAAKC,IAAKF,EAAGvD,EAAI,MAI1B5F,EAAMW,MAAOuI,GACZI,KAAM,SAAUH,GACf,MAAO,GAAIC,KAAKG,IAAKJ,EAAIC,KAAKI,GAAK,IAEpCC,KAAM,SAAUN,GACf,MAAO,GAAIC,KAAKM,KAAM,EAAIP,EAAIA,IAE/BQ,QAAS,SAAUR,GAClB,MAAa,KAANA,GAAiB,IAANA,EAAUA,GAC1BC,KAAKC,IAAK,EAAG,GAAMF,EAAI,IAAQC,KAAKQ,KAAmB,IAAVT,EAAI,GAAW,KAAQC,KAAKI,GAAK,KAEjFK,KAAM,SAAUV,GACf,MAAOA,GAAIA,GAAM,EAAIA,EAAI,IAE1BW,OAAQ,SAAUX,GAIjB,IAHA,GAAIY,GACHC,EAAS,EAEFb,IAAQY,EAAOX,KAAKC,IAAK,IAAKW,IAAa,GAAM,KACzD,MAAO,GAAIZ,KAAKC,IAAK,EAAG,EAAIW,GAAW,OAASZ,KAAKC,KAAc,EAAPU,EAAW,GAAM,GAAKZ,EAAG,MAIvFlJ,EAAG2I,OAAS3I,EAAG2I,WAEf5I,EAAM2F,KAAMuD,EAAa,SAAU9G,EAAM6H,GACxChK,EAAG2I,OAAQ,SAAWxG,GAAS6H,EAC/BhK,EAAG2I,OAAQ,UAAYxG,GAAS,SAAU+G,GACzC,MAAO,GAAIc,EAAQ,EAAId,IAExBlJ,EAAG2I,OAAQ,YAAcxG,GAAS,SAAU+G,GAC3C,MAAOA,GAAI,GACVc,EAAY,EAAJd,GAAU,EAClB,EAAIc,EAAQd,KAAS,GAAM,KAKvBhH","file":"../effects.js","sourcesContent":["define([ \n\t\"skylark-langx/skylark\",\n\t\"skylark-langx/langx\",\n\t\"skylark-utils/fx\",\n\t\"skylark-utils/query\"\n],function(skylark,langx,fx,$) {\n\n\tvar dataSpace = \"ui-effects-\",\n\t\tdataSpaceStyle = \"ui-effects-style\",\n\t\tdataSpaceAnimated = \"ui-effects-animated\",\n\t\tplugins = {};\n\n\n\tvar effects = skylark.effects = function() {\n\n\t};\n\n\n\n\tlangx.mixin(effects,{\n\t\tdefine: function( name, mode, effect ) {\n\t\t\tif ( !effect ) {\n\t\t\t\teffect = mode;\n\t\t\t\tmode = \"effect\";\n\t\t\t}\n\n\t\t\tplugins[ name ] = effect;\n\t\t\tplugins[ name ].mode = mode;\n\n\t\t\treturn effect;\n\t\t},\n\n\t\tscaledDimensions: function( element, percent, direction ) {\n\t\t\tif ( percent === 0 ) {\n\t\t\t\treturn {\n\t\t\t\t\theight: 0,\n\t\t\t\t\twidth: 0,\n\t\t\t\t\touterHeight: 0,\n\t\t\t\t\touterWidth: 0\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tvar x = direction !== \"horizontal\" ? ( ( percent || 100 ) / 100 ) : 1,\n\t\t\t\ty = direction !== \"vertical\" ? ( ( percent || 100 ) / 100 ) : 1;\n\n\t\t\treturn {\n\t\t\t\theight: element.height() * y,\n\t\t\t\twidth: element.width() * x,\n\t\t\t\touterHeight: element.outerHeight() * y,\n\t\t\t\touterWidth: element.outerWidth() * x\n\t\t\t};\n\n\t\t},\n\n\t\tclipToBox: function( animation ) {\n\t\t\treturn {\n\t\t\t\twidth: animation.clip.right - animation.clip.left,\n\t\t\t\theight: animation.clip.bottom - animation.clip.top,\n\t\t\t\tleft: animation.clip.left,\n\t\t\t\ttop: animation.clip.top\n\t\t\t};\n\t\t},\n\n\t\t// Injects recently queued functions to be first in line (after \"inprogress\")\n\t\tunshift: function( element, queueLength, count ) {\n\t\t\tvar queue = element.queue();\n\n\t\t\tif ( queueLength > 1 ) {\n\t\t\t\tqueue.splice.apply( queue,\n\t\t\t\t\t[ 1, 0 ].concat( queue.splice( queueLength, count ) ) );\n\t\t\t}\n\t\t\telement.dequeue();\n\t\t},\n\n\t\tsaveStyle: function( element ) {\n\t\t\telement.data( dataSpaceStyle, element[ 0 ].style.cssText );\n\t\t},\n\n\t\trestoreStyle: function( element ) {\n\t\t\telement[ 0 ].style.cssText = element.data( dataSpaceStyle ) || \"\";\n\t\t\telement.removeData( dataSpaceStyle );\n\t\t},\n\n\t\tmode: function( element, mode ) {\n\t\t\tvar hidden = element.is( \":hidden\" );\n\n\t\t\tif ( mode === \"toggle\" ) {\n\t\t\t\tmode = hidden ? \"show\" : \"hide\";\n\t\t\t}\n\t\t\tif ( hidden ? mode === \"hide\" : mode === \"show\" ) {\n\t\t\t\tmode = \"none\";\n\t\t\t}\n\t\t\treturn mode;\n\t\t},\n\n\t\t// Translates a [top,left] array into a baseline value\n\t\tgetBaseline: function( origin, original ) {\n\t\t\tvar y, x;\n\n\t\t\tswitch ( origin[ 0 ] ) {\n\t\t\tcase \"top\":\n\t\t\t\ty = 0;\n\t\t\t\tbreak;\n\t\t\tcase \"middle\":\n\t\t\t\ty = 0.5;\n\t\t\t\tbreak;\n\t\t\tcase \"bottom\":\n\t\t\t\ty = 1;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\ty = origin[ 0 ] / original.height;\n\t\t\t}\n\n\t\t\tswitch ( origin[ 1 ] ) {\n\t\t\tcase \"left\":\n\t\t\t\tx = 0;\n\t\t\t\tbreak;\n\t\t\tcase \"center\":\n\t\t\t\tx = 0.5;\n\t\t\t\tbreak;\n\t\t\tcase \"right\":\n\t\t\t\tx = 1;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tx = origin[ 1 ] / original.width;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tx: x,\n\t\t\t\ty: y\n\t\t\t};\n\t\t},\n\n\t\t// Creates a placeholder element so that the original element can be made absolute\n\t\tcreatePlaceholder: function( element ) {\n\t\t\tvar placeholder,\n\t\t\t\tcssPosition = element.css( \"position\" ),\n\t\t\t\tposition = element.position();\n\n\t\t\t// Lock in margins first to account for form elements, which\n\t\t\t// will change margin if you explicitly set height\n\t\t\t// see: http://jsfiddle.net/JZSMt/3/ https://bugs.webkit.org/show_bug.cgi?id=107380\n\t\t\t// Support: Safari\n\t\t\telement.css( {\n\t\t\t\tmarginTop: element.css( \"marginTop\" ),\n\t\t\t\tmarginBottom: element.css( \"marginBottom\" ),\n\t\t\t\tmarginLeft: element.css( \"marginLeft\" ),\n\t\t\t\tmarginRight: element.css( \"marginRight\" )\n\t\t\t} )\n\t\t\t.outerWidth( element.outerWidth() )\n\t\t\t.outerHeight( element.outerHeight() );\n\n\t\t\tif ( /^(static|relative)/.test( cssPosition ) ) {\n\t\t\t\tcssPosition = \"absolute\";\n\n\t\t\t\tplaceholder = $( \"<\" + element[ 0 ].nodeName + \">\" ).insertAfter( element ).css( {\n\n\t\t\t\t\t// Convert inline to inline block to account for inline elements\n\t\t\t\t\t// that turn to inline block based on content (like img)\n\t\t\t\t\tdisplay: /^(inline|ruby)/.test( element.css( \"display\" ) ) ?\n\t\t\t\t\t\t\"inline-block\" :\n\t\t\t\t\t\t\"block\",\n\t\t\t\t\tvisibility: \"hidden\",\n\n\t\t\t\t\t// Margins need to be set to account for margin collapse\n\t\t\t\t\tmarginTop: element.css( \"marginTop\" ),\n\t\t\t\t\tmarginBottom: element.css( \"marginBottom\" ),\n\t\t\t\t\tmarginLeft: element.css( \"marginLeft\" ),\n\t\t\t\t\tmarginRight: element.css( \"marginRight\" ),\n\t\t\t\t\t\"float\": element.css( \"float\" )\n\t\t\t\t} )\n\t\t\t\t.outerWidth( element.outerWidth() )\n\t\t\t\t.outerHeight( element.outerHeight() )\n\t\t\t\t.addClass( \"ui-effects-placeholder\" );\n\n\t\t\t\telement.data( dataSpace + \"placeholder\", placeholder );\n\t\t\t}\n\n\t\t\telement.css( {\n\t\t\t\tposition: cssPosition,\n\t\t\t\tleft: position.left,\n\t\t\t\ttop: position.top\n\t\t\t} );\n\n\t\t\treturn placeholder;\n\t\t},\n\n\t\tremovePlaceholder: function( element ) {\n\t\t\tvar dataKey = dataSpace + \"placeholder\",\n\t\t\t\t\tplaceholder = element.data( dataKey );\n\n\t\t\tif ( placeholder ) {\n\t\t\t\tplaceholder.remove();\n\t\t\t\telement.removeData( dataKey );\n\t\t\t}\n\t\t},\n\n\t\t// Removes a placeholder if it exists and restores\n\t\t// properties that were modified during placeholder creation\n\t\tcleanUp: function( element ) {\n\t\t\teffects.restoreStyle( element );\n\t\t\teffects.removePlaceholder( element );\n\t\t},\n\n\t\tsetTransition: function( element, list, factor, value ) {\n\t\t\tvalue = value || {};\n\t\t\tlangx.each( list, function( i, x ) {\n\t\t\t\tvar unit = element.cssUnit( x );\n\t\t\t\tif ( unit[ 0 ] > 0 ) {\n\t\t\t\t\tvalue[ x ] = unit[ 0 ] * factor + unit[ 1 ];\n\t\t\t\t}\n\t\t\t} );\n\t\t\treturn value;\n\t\t}\n\t});\n\n\t// Return an effect options object for the given parameters:\n\tfunction _normalizeArguments( effect, options, speed, callback ) {\n\n\t\t// Allow passing all options as the first parameter\n\t\tif ( langx.isPlainObject( effect ) ) {\n\t\t\toptions = effect;\n\t\t\teffect = effect.effect;\n\t\t}\n\n\t\t// Convert to an object\n\t\teffect = { effect: effect };\n\n\t\t// Catch (effect, null, ...)\n\t\tif ( options == null ) {\n\t\t\toptions = {};\n\t\t}\n\n\t\t// Catch (effect, callback)\n\t\tif ( langx.isFunction( options ) ) {\n\t\t\tcallback = options;\n\t\t\tspeed = null;\n\t\t\toptions = {};\n\t\t}\n\n\t\t// Catch (effect, speed, ?)\n\t\tif ( typeof options === \"number\" || fx.speeds[ options ] ) {\n\t\t\tcallback = speed;\n\t\t\tspeed = options;\n\t\t\toptions = {};\n\t\t}\n\n\t\t// Catch (effect, options, callback)\n\t\tif ( langx.isFunction( speed ) ) {\n\t\t\tcallback = speed;\n\t\t\tspeed = null;\n\t\t}\n\n\t\t// Add options to effect\n\t\tif ( options ) {\n\t\t\tlangx.mixin( effect, options );\n\t\t}\n\n\t\tspeed = speed || options.duration;\n\t\teffect.duration = fx.off ? 0 :\n\t\t\ttypeof speed === \"number\" ? speed :\n\t\t\tspeed in $.fx.speeds ? fx.speeds[ speed ] :\n\t\t\tfx.speeds._default;\n\n\t\teffect.complete = callback || options.complete;\n\n\t\treturn effect;\n\t}\n\n\tfunction standardAnimationOption( option ) {\n\n\t\t// Valid standard speeds (nothing, number, named speed)\n\t\tif ( !option || typeof option === \"number\" || fx.speeds[ option ] ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Invalid strings - treat as \"normal\" speed\n\t\tif ( typeof option === \"string\" && !plugins[ option ] ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Complete callback\n\t\tif ( langx.isFunction( option ) ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Options hash (but not naming an effect)\n\t\tif ( typeof option === \"object\" && !option.effect ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Didn't match any standard API\n\t\treturn false;\n\t}\n\n\tlangx.mixin($.fn,{\n\t\teffect: function( /* effect, options, speed, callback */ ) {\n\t\t\tvar args = _normalizeArguments.apply( this, arguments ),\n\t\t\t\teffectMethod = plugins[ args.effect ],\n\t\t\t\tdefaultMode = effectMethod.mode,\n\t\t\t\tqueue = args.queue,\n\t\t\t\tqueueName = queue || \"fx\",\n\t\t\t\tcomplete = args.complete,\n\t\t\t\tmode = args.mode,\n\t\t\t\tmodes = [],\n\t\t\t\tprefilter = function( next ) {\n\t\t\t\t\tvar el = $( this ),\n\t\t\t\t\t\tnormalizedMode = effects.mode( el, mode ) || defaultMode;\n\n\t\t\t\t\t// Sentinel for duck-punching the :animated pseudo-selector\n\t\t\t\t\tel.data( dataSpaceAnimated, true );\n\n\t\t\t\t\t// Save effect mode for later use,\n\t\t\t\t\t// we can't just call effects.mode again later,\n\t\t\t\t\t// as the .show() below destroys the initial state\n\t\t\t\t\tmodes.push( normalizedMode );\n\n\t\t\t\t\t// See $.uiBackCompat inside of run() for removal of defaultMode in 1.13\n\t\t\t\t\tif ( defaultMode && ( normalizedMode === \"show\" ||\n\t\t\t\t\t\t\t( normalizedMode === defaultMode && normalizedMode === \"hide\" ) ) ) {\n\t\t\t\t\t\tel.show();\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( !defaultMode || normalizedMode !== \"none\" ) {\n\t\t\t\t\t\teffects.saveStyle( el );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( langx.isFunction( next ) ) {\n\t\t\t\t\t\tnext();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\tif ( fx.off || !effectMethod ) {\n\n\t\t\t\t// Delegate to the original method (e.g., .show()) if possible\n\t\t\t\tif ( mode ) {\n\t\t\t\t\treturn this[ mode ]( args.duration, complete );\n\t\t\t\t} else {\n\t\t\t\t\treturn this.each( function() {\n\t\t\t\t\t\tif ( complete ) {\n\t\t\t\t\t\t\tcomplete.call( this );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction run( next ) {\n\t\t\t\tvar elem = $( this );\n\n\t\t\t\tfunction cleanup() {\n\t\t\t\t\telem.removeData( dataSpaceAnimated );\n\n\t\t\t\t\teffects.cleanUp( elem );\n\n\t\t\t\t\tif ( args.mode === \"hide\" ) {\n\t\t\t\t\t\telem.hide();\n\t\t\t\t\t}\n\n\t\t\t\t\tdone();\n\t\t\t\t}\n\n\t\t\t\tfunction done() {\n\t\t\t\t\tif ( langx.isFunction( complete ) ) {\n\t\t\t\t\t\tcomplete.call( elem[ 0 ] );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( langx.isFunction( next ) ) {\n\t\t\t\t\t\tnext();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Override mode option on a per element basis,\n\t\t\t\t// as toggle can be either show or hide depending on element state\n\t\t\t\targs.mode = modes.shift();\n\n\t\t\t\tif ( $.uiBackCompat !== false && !defaultMode ) {\n\t\t\t\t\tif ( elem.is( \":hidden\" ) ? mode === \"hide\" : mode === \"show\" ) {\n\n\t\t\t\t\t\t// Call the core method to track \"olddisplay\" properly\n\t\t\t\t\t\telem[ mode ]();\n\t\t\t\t\t\tdone();\n\t\t\t\t\t} else {\n\t\t\t\t\t\teffectMethod.call( elem[ 0 ], args, done );\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif ( args.mode === \"none\" ) {\n\n\t\t\t\t\t\t// Call the core method to track \"olddisplay\" properly\n\t\t\t\t\t\telem[ mode ]();\n\t\t\t\t\t\tdone();\n\t\t\t\t\t} else {\n\t\t\t\t\t\teffectMethod.call( elem[ 0 ], args, cleanup );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Run prefilter on all elements first to ensure that\n\t\t\t// any showing or hiding happens before placeholder creation,\n\t\t\t// which ensures that any layout changes are correctly captured.\n\t\t\t//return queue === false ?\n\t\t\t//\tthis.each( prefilter ).each( run ) :\n\t\t\t//\tthis.queue( queueName, prefilter ).queue( queueName, run );\n\n\t\t\treturn this.each( prefilter ).each( run );\t\n\t\t},\n\n\t\tshow: ( function( orig ) {\n\t\t\treturn function( option ) {\n\t\t\t\tif ( standardAnimationOption( option ) ) {\n\t\t\t\t\treturn orig.apply( this, arguments );\n\t\t\t\t} else {\n\t\t\t\t\tvar args = _normalizeArguments.apply( this, arguments );\n\t\t\t\t\targs.mode = \"show\";\n\t\t\t\t\treturn this.effect.call( this, args );\n\t\t\t\t}\n\t\t\t};\n\t\t} )( $.fn.show ),\n\n\t\thide: ( function( orig ) {\n\t\t\treturn function( option ) {\n\t\t\t\tif ( standardAnimationOption( option ) ) {\n\t\t\t\t\treturn orig.apply( this, arguments );\n\t\t\t\t} else {\n\t\t\t\t\tvar args = _normalizeArguments.apply( this, arguments );\n\t\t\t\t\targs.mode = \"hide\";\n\t\t\t\t\treturn this.effect.call( this, args );\n\t\t\t\t}\n\t\t\t};\n\t\t} )( $.fn.hide ),\n\n\t\ttoggle: ( function( orig ) {\n\t\t\treturn function( option ) {\n\t\t\t\tif ( standardAnimationOption( option ) || typeof option === \"boolean\" ) {\n\t\t\t\t\treturn orig.apply( this, arguments );\n\t\t\t\t} else {\n\t\t\t\t\tvar args = _normalizeArguments.apply( this, arguments );\n\t\t\t\t\targs.mode = \"toggle\";\n\t\t\t\t\treturn this.effect.call( this, args );\n\t\t\t\t}\n\t\t\t};\n\t\t} )( $.fn.toggle ),\n\n\t\tcssUnit: function( key ) {\n\t\t\tvar style = this.css( key ),\n\t\t\t\tval = [];\n\n\t\t\tlangx.each( [ \"em\", \"px\", \"%\", \"pt\" ], function( i, unit ) {\n\t\t\t\tif ( style.indexOf( unit ) > 0 ) {\n\t\t\t\t\tval = [ parseFloat( style ), unit ];\n\t\t\t\t}\n\t\t\t});\n\n\n\t\t\treturn val;\n\t\t},\n\n\t\tcssClip: function( clipObj ) {\n\t\t\tif ( clipObj ) {\n\t\t\t\treturn this.css( \"clip\", \"rect(\" + clipObj.top + \"px \" + clipObj.right + \"px \" +\n\t\t\t\t\tclipObj.bottom + \"px \" + clipObj.left + \"px)\" );\n\t\t\t}\n\t\t\treturn parseClip( this.css( \"clip\" ), this );\n\t\t},\n\n\t\ttransfer: function( options, done ) {\n\t\t\tvar element = $( this ),\n\t\t\t\ttarget = $( options.to ),\n\t\t\t\ttargetFixed = target.css( \"position\" ) === \"fixed\",\n\t\t\t\tbody = $( \"body\" ),\n\t\t\t\tfixTop = targetFixed ? body.scrollTop() : 0,\n\t\t\t\tfixLeft = targetFixed ? body.scrollLeft() : 0,\n\t\t\t\tendPosition = target.offset(),\n\t\t\t\tanimation = {\n\t\t\t\t\ttop: endPosition.top - fixTop,\n\t\t\t\t\tleft: endPosition.left - fixLeft,\n\t\t\t\t\theight: target.innerHeight(),\n\t\t\t\t\twidth: target.innerWidth()\n\t\t\t\t},\n\t\t\t\tstartPosition = element.offset(),\n\t\t\t\ttransfer = $( \"<div class='ui-effects-transfer'></div>\" )\n\t\t\t\t\t.appendTo( \"body\" )\n\t\t\t\t\t.addClass( options.className )\n\t\t\t\t\t.css( {\n\t\t\t\t\t\ttop: startPosition.top - fixTop,\n\t\t\t\t\t\tleft: startPosition.left - fixLeft,\n\t\t\t\t\t\theight: element.innerHeight(),\n\t\t\t\t\t\twidth: element.innerWidth(),\n\t\t\t\t\t\tposition: targetFixed ? \"fixed\" : \"absolute\"\n\t\t\t\t\t} )\n\t\t\t\t\t.animate( animation, options.duration, options.easing, function() {\n\t\t\t\t\t\ttransfer.remove();\n\t\t\t\t\t\tif ( langx.isFunction( done ) ) {\n\t\t\t\t\t\t\tdone();\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t}\n\t});\n\n\tfunction parseClip( str, element ) {\n\t\t\tvar outerWidth = element.outerWidth(),\n\t\t\t\touterHeight = element.outerHeight(),\n\t\t\t\tclipRegex = /^rect\\((-?\\d*\\.?\\d*px|-?\\d+%|auto),?\\s*(-?\\d*\\.?\\d*px|-?\\d+%|auto),?\\s*(-?\\d*\\.?\\d*px|-?\\d+%|auto),?\\s*(-?\\d*\\.?\\d*px|-?\\d+%|auto)\\)$/,\n\t\t\t\tvalues = clipRegex.exec( str ) || [ \"\", 0, outerWidth, outerHeight, 0 ];\n\n\t\t\treturn {\n\t\t\t\ttop: parseFloat( values[ 1 ] ) || 0,\n\t\t\t\tright: values[ 2 ] === \"auto\" ? outerWidth : parseFloat( values[ 2 ] ),\n\t\t\t\tbottom: values[ 3 ] === \"auto\" ? outerHeight : parseFloat( values[ 3 ] ),\n\t\t\t\tleft: parseFloat( values[ 4 ] ) || 0\n\t\t\t};\n\t}\n\n\tfx.step = fx.step || {};\n\n\tfx.step.clip = function( fx ) {\n\t\tif ( !fx.clipInit ) {\n\t\t\tfx.start = $( fx.elem ).cssClip();\n\t\t\tif ( typeof fx.end === \"string\" ) {\n\t\t\t\tfx.end = parseClip( fx.end, fx.elem );\n\t\t\t}\n\t\t\tfx.clipInit = true;\n\t\t}\n\n\t\t$( fx.elem ).cssClip( {\n\t\t\ttop: fx.pos * ( fx.end.top - fx.start.top ) + fx.start.top,\n\t\t\tright: fx.pos * ( fx.end.right - fx.start.right ) + fx.start.right,\n\t\t\tbottom: fx.pos * ( fx.end.bottom - fx.start.bottom ) + fx.start.bottom,\n\t\t\tleft: fx.pos * ( fx.end.left - fx.start.left ) + fx.start.left\n\t\t} );\n\t};\n\n\n\t/******************************************************************************/\n\t/*********************************** EASING ***********************************/\n\t/******************************************************************************/\n\n\t// Based on easing equations from Robert Penner (http://www.robertpenner.com/easing)\n\n\tvar baseEasings = {};\n\n\tlangx.each( [ \"Quad\", \"Cubic\", \"Quart\", \"Quint\", \"Expo\" ], function( i, name ) {\n\t\tbaseEasings[ name ] = function( p ) {\n\t\t\treturn Math.pow( p, i + 2 );\n\t\t};\n\t} );\n\n\tlangx.mixin( baseEasings, {\n\t\tSine: function( p ) {\n\t\t\treturn 1 - Math.cos( p * Math.PI / 2 );\n\t\t},\n\t\tCirc: function( p ) {\n\t\t\treturn 1 - Math.sqrt( 1 - p * p );\n\t\t},\n\t\tElastic: function( p ) {\n\t\t\treturn p === 0 || p === 1 ? p :\n\t\t\t\t-Math.pow( 2, 8 * ( p - 1 ) ) * Math.sin( ( ( p - 1 ) * 80 - 7.5 ) * Math.PI / 15 );\n\t\t},\n\t\tBack: function( p ) {\n\t\t\treturn p * p * ( 3 * p - 2 );\n\t\t},\n\t\tBounce: function( p ) {\n\t\t\tvar pow2,\n\t\t\t\tbounce = 4;\n\n\t\t\twhile ( p < ( ( pow2 = Math.pow( 2, --bounce ) ) - 1 ) / 11 ) {}\n\t\t\treturn 1 / Math.pow( 4, 3 - bounce ) - 7.5625 * Math.pow( ( pow2 * 3 - 2 ) / 22 - p, 2 );\n\t\t}\n\t} );\n\n\tfx.easing = fx.easing || {};\n\n\tlangx.each( baseEasings, function( name, easeIn ) {\n\t\tfx.easing[ \"easeIn\" + name ] = easeIn;\n\t\tfx.easing[ \"easeOut\" + name ] = function( p ) {\n\t\t\treturn 1 - easeIn( 1 - p );\n\t\t};\n\t\tfx.easing[ \"easeInOut\" + name ] = function( p ) {\n\t\t\treturn p < 0.5 ?\n\t\t\t\teaseIn( p * 2 ) / 2 :\n\t\t\t\t1 - easeIn( p * -2 + 2 ) / 2;\n\t\t};\n\t} );\n\n\n\treturn effects;\n\n});\n"]}